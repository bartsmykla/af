# yaml-language-server: $schema=https://raw.githubusercontent.com/smykla-labs/.github/main/schemas/sync-config.schema.json
---
# Unified Sync Configuration
# Enable label removal to keep labels in sync with central config

sync:
  labels:
    allow_removal: true
  files:
    merge:
      - path: renovate.json
        strategy: deep-merge
        overrides:
          customManagers:
            - customType: regex
              description: "Update octocrab version in flake.nix when Cargo.lock changes"
              managerFilePatterns: ["/^flake\\.nix$/"]
              matchStrings: ["\\$cargoDepsCopy/octocrab-(?<currentValue>[^/]+)/build\\.rs"]
              depNameTemplate: octocrab
              datasourceTemplate: crate
              versioningTemplate: cargo
